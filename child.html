<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Child Messaging Test</title>
</head>
<body>
  <h2>Child Page (child.html)</h2>
  <p>Open your browser's console to view messages.</p>
  <script>
    // Listen for messages from the parent
    window.addEventListener('message', (event) => {
      // For security, ensure the message is from the same origin
      if (event.origin !== window.location.origin) return;
      console.log('Child received:', event.data);
      
      // Simulate an asynchronous response after 3 seconds
      setTimeout(() => {
        console.log('Child: Sending response "Hello from Child!"');
        event.source.postMessage('Hello from Child!', event.origin);
      }, 3000);
    });
  </script>
</body>
</html>
